problem link : https://www.geeksforgeeks.org/problems/cheapest-flights-within-k-stops/1?utm_source=youtube&utm_medium=collab_striver_ytdescription&utm_campaign=cheapest-flights-within-k-stops


from heapq import heappush, heappop
from typing import List

class Solution:
    def CheapestFLight(self,n,flights,src,dst,k):
        adj = [[] for _ in range(n)]
        for u, v, w in flights:
            adj[u].append((v, w))
        
        dist = [float('inf')] * n 
        dist[src] = 0 
        
        heap = [(0, src, 0)] # stops, node, cost
        while heap:
            stops, node, cost = heappop(heap)
            
            if stops > k : continue 
                 
            for curr in adj[node]:
                adjNode = curr[0]
                adjWt = curr[1]
                if dist[adjNode] > cost + adjWt and stops <= k:
                    dist[adjNode] = cost + adjWt
                    heappush(heap, (stops + 1, adjNode, cost + adjWt))
                  
        # print(dist)                   
        return dist[dst] if dist[dst] != float('inf') else -1
        

''' time complexity : O(E * logn)           # heap with stops as first preference 
    space complexity : O(V + E)
'''
